{"remainingRequest":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第四阶段\\vue_app_000\\vue_app_00\\src\\components\\view\\Product.vue?vue&type=style&index=0&id=aafc3ef0&scoped=true&lang=css","dependencies":[{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\src\\components\\view\\Product.vue","mtime":1568277593546},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 最外层父元素 */\n.product-app{\n  display: flex;\n  flex-wrap: wrap;\n  justify-content:space-between;\n  padding: 4px;\n}\n.goods-item{\n  width:49%;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  margin: 2px 0;\n  padding: 2px;\n  box-sizing: border-box;\n  flex-direction: column;\n  min-height: 249px;\n}\n.goods-item img{\n  width:300px;\n}\n.goods-item .info{\n  color:#83D0F2;\n  font-size: 19px;\n}\n/* button{\n  width:100px;\n  height:40px;\n  background: #83D0F2;\n  border: 0;\n  border-radius: 2px;\n  margin-left: 5px;\n}\n.first{\n  margin-left:0px;\n} */\n",{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Product.vue","sourceRoot":"src\\components\\view","sourcesContent":["<template>\r\n  <div class=\"product-app\">\r\n    <div class=\"goods-item\" v-for=\"(item,index) of  list\" :key=\"index\">\r\n      <img :src=\"'http://127.0.0.1:8080/'+item.img_url\">\r\n      <h4>{{item.lname}}</h4>\r\n      <div class=\"info\">{{item.price}}</div>\r\n      <mt-button @click=\"addcart\" :data-lid=\"item.lid\" :data-price=\"item.price\" :data-lname=\"item.lname\">加入购物车</mt-button>\r\n      <mt-button @click=\"load\">加载更多</mt-button>\r\n      <mt-button @click=\"findcart\">查看购物车</mt-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      pno:0, //当前页码\r\n      list:[]\r\n    }\r\n  },\r\n  created() {\r\n    this.load();\r\n  },\r\n  methods: {\r\n    load(){\r\n      var url=\"product\";\r\n      this.pno++;\r\n      var obj={\r\n        params:{\r\n          pno:this.pno\r\n        }\r\n      }\r\n      this.axios.get(url,obj).then(result=>{\r\n        //数组拼接\r\n        var rows=this.list.concat(result.data.data);\r\n        this.list=rows;\r\n        console.log(this.list);\r\n      }).catch(err=>{\r\n        console.log(err);\r\n      })\r\n    },\r\n    addcart(event){\r\n      var lid=event.target.dataset.lid;\r\n      var lname=event.target.dataset.lname;\r\n      var price=event.target.dataset.price;\r\n      console.log(lid,price,lname);\r\n      var url=\"addCart\";\r\n      var obj={\r\n        params:{\r\n          lid,lname,price\r\n        }\r\n      }\r\n      this.axios.get(url,obj).then(result=>{\r\n        if(result.data.code==-1){\r\n          this.$messagebox(\"消息\",\"请先登录\").then(res=>{\r\n            this.$router.push(\"/userLogin\");\r\n          });\r\n        }else if(result.data.code==-2){\r\n          this.$messagebox(\"消息\",\"添加失败\")\r\n        }else{\r\n           this.$messagebox(\"消息 \",\"添加成功\")\r\n        }\r\n      })\r\n    },\r\n    findcart(){\r\n      this.$router.push(\"/Cart\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  /* 最外层父元素 */\r\n  .product-app{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content:space-between;\r\n    padding: 4px;\r\n  }\r\n  .goods-item{\r\n    width:49%;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    margin: 2px 0;\r\n    padding: 2px;\r\n    box-sizing: border-box;\r\n    flex-direction: column;\r\n    min-height: 249px;\r\n  }\r\n  .goods-item img{\r\n    width:300px;\r\n  }\r\n  .goods-item .info{\r\n    color:#83D0F2;\r\n    font-size: 19px;\r\n  }\r\n  /* button{\r\n    width:100px;\r\n    height:40px;\r\n    background: #83D0F2;\r\n    border: 0;\r\n    border-radius: 2px;\r\n    margin-left: 5px;\r\n  }\r\n  .first{\r\n    margin-left:0px;\r\n  } */\r\n</style>\r\n"]}]}